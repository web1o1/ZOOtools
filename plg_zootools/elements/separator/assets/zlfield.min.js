(function(b){var c=function(){};c.prototype=b.extend(c.prototype,{name:"ZOOtoolsSeparatorZLField",options:{},initialize:function(c,d){this.options=b.extend({},this.options,d);var a=this;b(document).ready(function(){b(".ui-sortable").on("sortstop",function(b,c){a.element=c.item;a.element_position=a.element.closest("ul.element-list").data("position");a.element_type=a.element.find(".zlinfo").data("element-type");"separator"==a.element_type&&(a.element.addClass("zl-separator"),a.initOranizerTitle())}).find("li.element").each(function(){b(this).parent().trigger("sortstop",
{item:b(this)})});b(".col-left ul.element-list").on("element.added",function(a,c){b(c).parent().trigger("sortstop",{item:b(c)})});b(".element-list.unassigned li.element, .element-list[data-position=unassigned] li.element").each(function(){a.element=b(this);a.element_type=a.element.find(".zlinfo").data("element-type");"separator"==a.element_type&&(a.element.addClass("zl-separator"),b(".element-list.unassigned")[0]&&a.element.draggable("destroy"),a.element.find(".name span").remove())});b(".element-list[data-position=unassigned]").sortable({cancel:".element.zl-separator"})})},
initOranizerTitle:function(){if(!this.element.data("zootools-actions-inited")){var b=this,c=b.element.find(".zlfield .row[data-id=_layout] select"),a=b.element.find(".name");c.on("loaded.zlfield",function(){var c=b.element.find(".zlfield .row[data-id=name] input");c.on("keyup zlinit",function(){a.html(c.val())}).trigger("zlinit")}).trigger("loaded.zlfield");this.element.data("zootools-actions-inited",!0)}}});b.fn[c.prototype.name]=function(){var e=arguments,d=e[0]?e[0]:null;return this.each(function(){var a=
b(this);if(c.prototype[d]&&a.data(c.prototype.name)&&"initialize"!=d)a.data(c.prototype.name)[d].apply(a.data(c.prototype.name),Array.prototype.slice.call(e,1));else if(!d||b.isPlainObject(d)){var f=new c;c.prototype.initialize&&f.initialize.apply(f,b.merge([a],e));a.data(c.prototype.name,f)}else b.error("Method "+d+" does not exist on jQuery."+c.name)})}})(jQuery);